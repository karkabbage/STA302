---
title: "STA302 Project"
author: "Karyna Lim"
date: "2024-06-17"
output: pdf_document
---

# Part1: Data exploration 

regres residuals to prediect weights, weights to correct shift in residuals, reduce effect of random error, similar dispersion, 

reduced preidction interval menas smaller variance if after transformation, wls corrects variance, 
solving covriance problem

pval: keep all params to zero, evidence that putting all to zero could provide a better fit, 

boxcox to see which power to use, check closest

We read our example data

```{r}
#install these and uncomment if u didn't download them yet:
#install.packages("ggfortify")
#install.packages("dplyr")
#install.packages("ggplot2")

library(dplyr)
library(ggfortify)

n = 100 # number of samples

data_raw = read.csv("inser_csv_here.csv")
sampled_df <- data_raw[sample(nrow(data_raw), n), ]

# below is how to change categorical / word data into numerical 
#sampled_df$smoker <- ifelse(sampled_df$smoker == "yes", 1, 0)
#sampled_df$sex <- ifelse(sampled_df$sex == "female", 1, 0)
#sampled_df$region <- as.numeric(factor(sampled_df$region)) - 1

df_selected <- sampled_df %>%
 select(VARIABLE_COLUMN_NAME_YOU_WANNA_KEEP) 
# name that they are in the data set, seperate them by commas

#plot(x=sampled_df$children, y=sampled_df$charges)

# this plots each pair of variables against eachother to make sure they have a linear relation
pairs( df_selected, panel=function(x,y){
  points(x,y)
  abline(lm(y~x), col='red')
  text(0,1.5,labels = paste('R2=',round((cor(x,y))^2,2)) ,col='red' )
})

# INSERT_RESPONSE_VAR, PREDICTOR_ONE, PREDICTOR_TWO are all names of the data columns/variables
model <- lm(INSERT_RESPONSE_VAR ~ PREDICTOR_ONE, PREDICTOR_TWO, data = df_selected)

# below tests the residuals if they follow our assumptions:
autoplot(model)
```

```{r} 
# ignore this, cleaning and tidying data 

data_raw = read.csv("cybersecurity_attacks.csv")
data_cols <- data_raw %>% select(-Timestamp, -Source.IP.Address, -Destination.IP.Address, -User.Information, -Payload.Data)

# checking that there are only a select few attributes in the data :
all(data_raw$Firewall.Logs %in% c("Log Data", ""))
all(data_raw$IDS.IPS.Alerts %in% c("Alert Data", ""))
all(data_raw$Alerts.Warnings %in% c("Alert Triggered", ""))
all(data_raw$Malware.Indicators %in% c("IoC Detected", ""))

unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)
unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)
unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)
unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)
unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)
unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)
unique_entries <- unique(data_raw$Malware.Indicators)
print(unique_entries)


data_cols <- data_cols %>%
  mutate(across(c(Firewall.Logs), ~ ifelse(. == "Log Data", TRUE, FALSE)))

data_cols <- data_cols %>%
  mutate(across(c(IDS.IPS.Alerts), ~ ifelse(. == "Alert Data", TRUE, FALSE)))

data_cols <- data_cols %>%
  mutate(across(c(Alerts.Warnings), ~ ifelse(. == "Alert Triggered", TRUE, FALSE)))

data_cols <- data_cols %>%
  mutate(across(c(Malware.Indicators), ~ ifelse(. == "IoC Detected", TRUE, FALSE)))



```

